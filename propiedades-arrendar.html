<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<title>Propiedades en Arriendo | Altorra Inmobiliaria</title>
<meta content="Compra de propiedades con Altorra: atenci√≥n personalizada y asesor√≠a jur√≠dica." name="description"/>
<link href="manifest.json" rel="manifest"/>
<meta content="#d4af37" name="theme-color"/>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700;800&amp;display=swap" rel="stylesheet"/>
<link href="style.css" rel="stylesheet"/>
<style>
:root{--card-radius:14px;--badge-h:28px;}
main{padding-top:calc(var(--header-h) + 12px);max-width:var(--page-max);margin:0 auto}

/* Filtros mejorados con expansi√≥n */
.filters{background:#fff;border-radius:12px;margin:16px;border:1px solid rgba(0,0,0,.06);box-shadow:0 4px 12px rgba(0,0,0,.04)}
.filters-main{display:flex;gap:10px;align-items:flex-end;flex-wrap:wrap;padding:12px 16px}
.filters-advanced{display:none;padding:0 16px 12px;border-top:1px dashed rgba(0,0,0,.08);margin-top:8px}
.filters-advanced.open{display:block}
.filters-advanced .row{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px}

.control{display:flex;flex-direction:column;gap:6px}
.filters label{font-weight:700;font-size:.85rem;color:var(--muted)}
.filters input[type="text"], .filters select, .filters input[type="number"]{padding:10px 12px;border-radius:10px;border:1px solid rgba(0,0,0,.08);min-width:160px}
.filters .actions{margin-left:auto;display:flex;gap:8px;align-items:center}
.btn{padding:10px 14px;border-radius:10px;font-weight:800;border:0;cursor:pointer;transition:all .15s ease}
.btn-primary{background:linear-gradient(90deg,var(--accent),#ffd95e);color:#111;box-shadow:0 10px 22px rgba(0,0,0,.08)}
.btn-ghost{background:transparent;border:1px solid rgba(0,0,0,.08);color:var(--text)}
.btn-toggle{background:transparent;border:1px dashed rgba(0,0,0,.12);color:var(--muted);font-size:.9rem;padding:8px 12px}
.btn-toggle:hover{border-color:var(--gold);color:var(--gold)}

/* Contador de resultados */
.results-header{display:flex;justify-content:space-between;align-items:center;padding:0 16px 12px;flex-wrap:wrap;gap:10px}
.results-count{color:var(--muted);font-weight:600;font-size:.95rem}
.results-count strong{color:var(--text)}

.grid{display:grid;gap:18px;padding:16px;grid-template-columns:repeat(3,1fr)}
@media (max-width:1024px){.grid{grid-template-columns:repeat(2,1fr)}}
@media (max-width:720px){.grid{grid-template-columns:1fr}}
.card{background:#fff;border-radius:var(--card-radius);overflow:hidden;border:1px solid rgba(0,0,0,.06);
  box-shadow:0 8px 24px rgba(0,0,0,.06);display:flex;flex-direction:column;transition:transform .18s ease, box-shadow .18s ease;cursor:pointer}
.card:hover{transform:translateY(-4px);box-shadow:0 16px 36px rgba(0,0,0,.12)}
.media{position:relative;overflow:hidden;background:#f5f5f5;aspect-ratio:4/3}
.media img{position:absolute;inset:0;width:100%;height:100%;object-fit:cover}
.badges{position:absolute;left:10px;top:10px;display:flex;gap:6px;flex-wrap:wrap;max-width:calc(100% - 64px)}
.badge{height:var(--badge-h);display:inline-flex;align-items:center;gap:6px;padding:0 10px;border-radius:999px;font-size:12px;font-weight:800;letter-spacing:.2px;
  background:rgba(255,255,255,.9);backdrop-filter:blur(6px);-webkit-backdrop-filter:blur(6px);border:1px solid rgba(0,0,0,.06);white-space:nowrap;line-height:var(--badge-h)}
.badge--dark{background:rgba(17,24,39,.9);color:#fff}
.fav-btn{position:absolute;top:10px;right:10px;background:rgba(255,255,255,.95);border-radius:999px;width:40px;height:40px;display:flex;align-items:center;justify-content:center;border:0;box-shadow:0 6px 18px rgba(0,0,0,.08);cursor:pointer}
.fav-btn .heart{font-size:18px;color:#b7b7b7;transition:transform .12s ease,color .12s ease}
.fav-btn[aria-pressed="true"] .heart{color:var(--accent);transform:scale(1.07)}
.meta{padding:12px 14px;display:flex;flex-direction:column;gap:8px}
.meta h3{margin:0;font-size:1.05rem;line-height:1.2;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;min-height:2.4em}
.price{font-weight:900;color:var(--gold);font-size:1.05rem}
.specs{color:var(--muted);font-size:.95rem}
.cta{display:flex;gap:8px;margin-top:8px;flex-wrap:nowrap;align-items:center;justify-content:stretch}
.cta .btn{display:inline-flex;align-items:center;justify-content:center;gap:8px;flex:1 1 0;min-width:0;padding:8px 10px;font-size:0.92rem;line-height:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;border-radius:10px}
.cta .btn-primary{background:linear-gradient(90deg,var(--accent),#ffd95e);color:#111;box-shadow:0 8px 18px rgba(0,0,0,.08);border:0}
.cta .btn-ghost{background:transparent;border:1px solid rgba(0,0,0,.08);color:var(--text)}
.cta a.btn{display:inline-flex}
@media (max-width:480px){.cta .btn{padding:6px 8px;font-size:0.84rem}}
footer{background:#0b0b0b;color:#fff;padding:36px 16px}
.footer-grid{max-width:var(--page-max);margin:0 auto;display:grid;grid-template-columns:repeat(4,1fr);gap:18px}
@media (max-width:920px){.footer-grid{grid-template-columns:1fr}}
</style>
</head>
<body>
<a class="skip-link" href="#main">Saltar al contenido principal</a>
<div id="header-placeholder"></div>

<main id="main" style="padding-bottom:32px">
<section aria-label="Filtros de b√∫squeda" class="filters">
  <div class="filters-main">
    <div class="control" style="flex:2;min-width:280px">
      <label for="f-search">üîç Buscar por palabra clave</label>
      <input id="f-search" placeholder="Ciudad, barrio, c√≥digo o caracter√≠stica..." type="text"/>
    </div>
    <div class="control">
      <label for="f-city">Ciudad</label>
      <input id="f-city" placeholder="Ej. Cartagena" type="text"/>
    </div>
    <div class="control">
      <label for="f-type">Tipo</label>
      <select id="f-type">
        <option value="">Cualquiera</option>
        <option value="apartamento">Apartamento</option>
        <option value="casa">Casa</option>
        <option value="lote">Lote</option>
        <option value="oficina">Oficina</option>
      </select>
    </div>
    <div class="actions">
      <button class="btn btn-toggle" id="btnToggleAdvanced" type="button">+ Filtros avanzados</button>
      <button class="btn btn-ghost" id="btnClear" type="button">Limpiar</button>
      <button class="btn btn-primary" id="btnApply" type="button">Buscar</button>
    </div>
  </div>

  <div class="filters-advanced" id="advancedFilters">
    <div class="row">
      <div class="control">
        <label for="f-beds-min">Habitaciones m√≠nimas</label>
        <select id="f-beds-min">
          <option value="">Cualquiera</option>
          <option value="1">1+</option>
          <option value="2">2+</option>
          <option value="3">3+</option>
          <option value="4">4+</option>
        </select>
      </div>
      <div class="control">
        <label for="f-baths-min">Ba√±os m√≠nimos</label>
        <select id="f-baths-min">
          <option value="">Cualquiera</option>
          <option value="1">1+</option>
          <option value="2">2+</option>
          <option value="3">3+</option>
        </select>
      </div>
      <div class="control">
        <label for="f-sqm-min">√Årea m√≠nima (m¬≤)</label>
        <input id="f-sqm-min" type="number" min="0" placeholder="Ej. 50"/>
      </div>
      <div class="control">
        <label for="f-sqm-max">√Årea m√°xima (m¬≤)</label>
        <input id="f-sqm-max" type="number" min="0" placeholder="Ej. 200"/>
      </div>
    </div>
    <div class="row">
      <div class="control">
        <label for="f-min">Precio m√≠nimo (COP)</label>
        <input id="f-min" min="0" placeholder="0" type="number"/>
      </div>
      <div class="control">
        <label for="f-max">Precio m√°ximo (COP)</label>
        <input id="f-max" min="0" placeholder="‚Äî" type="number"/>
      </div>
      <div class="control">
        <label for="f-sort">Ordenar por</label>
        <select id="f-sort">
          <option value="relevance">Relevancia</option>
          <option value="price-asc">Precio: Menor a Mayor</option>
          <option value="price-desc">Precio: Mayor a Menor</option>
          <option value="newest">M√°s Recientes</option>
          <option value="sqm-desc">√Årea: Mayor a Menor</option>
        </select>
      </div>
    </div>
  </div>
</section>

<div class="results-header">
  <div class="results-count" id="resultsCount">
    Cargando propiedades...
  </div>
</div>

<section aria-label="Resultados">
<div aria-live="polite" class="grid" id="list" role="list">
  <div style="grid-column:1/-1;text-align:center;padding:40px;color:var(--muted)">
    <p>Cargando propiedades...</p>
  </div>
</div>
<div style="display:flex;justify-content:center;margin:22px">
<button class="btn btn-ghost" id="btnLoadMore" style="padding:12px 20px;display:none">Cargar m√°s</button>
</div>
</section>
</main>

<div id="footer-placeholder"></div>
<script defer src="header-footer.js"></script>
<script defer src="js/listado-propiedades.js"></script>
<script defer src="js/favoritos.js"></script>

<script>
// Toggle filtros avanzados
document.addEventListener('DOMContentLoaded', () => {
  const btnToggle = document.getElementById('btnToggleAdvanced');
  const advanced = document.getElementById('advancedFilters');
  
  if (btnToggle && advanced) {
    btnToggle.addEventListener('click', () => {
      const isOpen = advanced.classList.toggle('open');
      btnToggle.textContent = isOpen ? '‚àí Filtros avanzados' : '+ Filtros avanzados';
    });
  }
});
</script>
</body>
</html>
